{"version":3,"file":"static/js/973.1073837c.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/SearchForm/SearchForm.module.css?d6f1","components/SearchForm/SearchForm.js","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.js","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchForm_form__o80os\",\"input\":\"SearchForm_input__HOxJo\",\"btn\":\"SearchForm_btn__TXrR3\",\"icon\":\"SearchForm_icon__bCza5\"};","import PropTypes from 'prop-types';\nimport { useState } from 'react';\nimport { ImSearch } from 'react-icons/im';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport s from './SearchForm.module.css';\n\n\nfunction SearchForm({ onSubmit }) {\n    const [searchQuery, setSearchQuery] = useState('');\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n \n\n if (searchQuery.trim() === '') {\n      return toast.error('Please try again.');\n    }\n    onSubmit(searchQuery);\n    setSearchQuery('')\n  }\n\n    const handleChange = event => {\n   setSearchQuery(event.currentTarget.value.toLowerCase())\n  };\n\n      return (\n     \n        <form className={s.form} onSubmit={handleSubmit} >\n      \n          <input\n            className={s.input}\n      onChange={handleChange}\n      value={searchQuery}\n      type=\"text\"\n      autoComplete=\"off\"\n      autoFocus\n      placeholder=\"Search\"\n          />\n              <button className={s.btn} type=\"submit\" >\n           <span className={s.icon}> <ImSearch /></span>\n      <span className={s.textBtn}>Search</span>\n    </button>\n  </form>\n    )\n}\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n}\n\nexport default SearchForm;","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Movies_list__hqYjd\",\"item\":\"Movies_item__Ba4aJ\",\"link\":\"Movies_link__MzAfU\",\"img\":\"Movies_img__8sw1H\",\"title\":\"Movies_title__MDLXB\",\"text\":\"Movies_text__FlKVm\"};","import { useLocation, useSearchParams, Link } from \"react-router-dom\";\nimport { useEffect, useState } from 'react';\nimport SearchForm from '../../components/SearchForm';\nimport { getSearchMovies } from '../../services/api';\nimport { ThreeDots } from 'react-loader-spinner';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport s from './Movies.module.css';\n\n\nfunction Movies() {\n    const [movies, setMovies] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const location = useLocation();\n    const [searchParams, setSearchParams] = useSearchParams();\n    const searchQuery = searchParams.get('query');\n\n    useEffect(() => {\n        async function searchMovies() {\n            if (!searchQuery) {\n                return\n            }\n            try {\n                setLoading(true);\n                const movie = await getSearchMovies(searchQuery)\n                setMovies(movie)\n            } catch (error) {\n                toast.error('Not found')\n                console.log(error);\n\n            } finally {\n                setLoading(false);\n            }\n        }\n     searchMovies()   \n    }, [searchQuery]);\n\n    const handleSubmit = (name) => {\n        setSearchParams({ query: name })\n    }\n\n    return (\n        <>\n            <SearchForm onSubmit={handleSubmit} />\n            {loading && <ThreeDots color=\"#00BFFF\" height={80} width={80} />}\n            {movies && <ul className={s.list}>\n                {movies.map(({ id, title, poster_path }) => <li className={s.item} key={id}>\n                    <Link to={`/movies/${id}`} state={{ from: location }}>\n                        <img className={s.img} src={`https://image.tmdb.org/t/p/w300${poster_path}`} alt={title}></img>\n                        <p className={s.text}>{title}</p></Link>\n                </li>)}\n            </ul> }\n        </>\n    )\n\n}\n\nexport default Movies;","import axios from \"axios\";\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst KEY = 'c46f114dbea28bcbc0da4b37aad3806b';\n\nexport async function getTrending() {\nconst response = await axios.get(\n    `trending/movie/day?api_key=${KEY}`\n  );\n  return response.data.results;\n};\n\nexport async function getSearchMovies(searchQuery) {\n  const response = await axios.get(\n    `search/movie?api_key=${KEY}&query=${searchQuery}`\n  );\n  return response.data.results;  \n};\n\nexport async function getMovieDetails(movieId) {\n const response = await axios.get(\n    `movie/${movieId}?api_key=${KEY}`\n  );\n  return response.data;  \n};\n\nexport async function getMovieCredits(movieId) {\n    const response = await axios.get(\n    `movie/${movieId}/credits?api_key=${KEY}`\n  );\n  return response.data;  \n};\n\nexport async function getMovieReviews(movieId) {\n     const response = await axios.get(\n    `movie/${movieId}/reviews?api_key=${KEY}`\n  );\n  return response.data; \n};\n\n"],"names":["onSubmit","useState","searchQuery","setSearchQuery","className","s","event","preventDefault","trim","toast","onChange","currentTarget","value","toLowerCase","type","autoComplete","autoFocus","placeholder","movies","setMovies","loading","setLoading","location","useLocation","useSearchParams","searchParams","setSearchParams","get","useEffect","getSearchMovies","movie","console","log","searchMovies","name","query","color","height","width","map","id","title","poster_path","to","state","from","src","alt","axios","KEY","getTrending","response","data","results","getMovieDetails","movieId","getMovieCredits","getMovieReviews"],"sourceRoot":""}